#ifndef MULTIWII_HMC5883_H
#define MULTIWII_HMC5883_H

#include "../config.h"

#ifdef HMC5883

#define HMC5883_ADDRESS 0x1E

// Registers
#define HMC5883_CONF_A 0x00
#define HMC5883_CONF_B 0x01
#define HMC5883_MODE 0x02
#define HMC5883_DATA_X_M 0x03

#define HMMC5883_MEASUEREMENT_MODE_NORMAL 0x00
#define HMMC5883_MEASUEREMENT_MODE_POSITIVE_BIAS 0x01
#define HMMC5883_MEASUEREMENT_MODE_NEGATIVE_BIAS 0x02

#define HMC5883_GAIN_09 0x00
#define HMC5883_GAIN_12 0x01
#define HMC5883_GAIN_19 0x02
#define HMC5883_GAIN_25 0x03
#define HMC5883_GAIN_40 0x04
#define HMC5883_GAIN_46 0x05
#define HMC5883_GAIN_55 0x06
#define HMC5883_GAIN_79 0x07

#define HMC5883_MODE_CONTINOUS_MEASUREMENT 0x00
#define HMC5883_MODE_SINGLE_MEASUREMENT 0x01
#define HMC5883_MODE_IDLE 0x02
#define HMC5883_MODE_SLEEP 0x03

void hmc5883_init();

void hmc5883_update();

#endif

#endif //MULTIWII_HMC5883_H
